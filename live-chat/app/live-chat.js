!function(e){function t(i){if(s[i])return s[i].exports;var n=s[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};return t.m=e,t.c=s,t.i=function(e){return e},t.d=function(e,s,i){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=13)}([function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e),this.socket=t.socket,this.messages=t.messages}return n(e,[{key:"sendMessage",value:function(e,t,s){var i={message:e,to:t};0!==e.length&&(this.socket.emit("new message",i),this.addMessage(i,!0,s))}},{key:"addMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments[2],i=!1,n="live-chat-message-their";if((t===!1&&e.to===s||t===!0)&&(i=e.message),t===!0&&(n="live-chat-message-mine"),i){var a=this.message(i,n);this.messages.appendChild(a)}}},{key:"addWarning",value:function(e){var t="live-chat-message-warning",s=this.message(e,t);this.messages.appendChild(s)}},{key:"message",value:function e(t,s){var e=document.createElement("li");return e.classList.add(s),e.innerHTML='<span class="live-chat-message-inner">'+t+"</span>",e}}]),e}(),c=a;t.default=c;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"Chat","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/chat/index.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/chat/index.js"))})()},function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}s(12);var n=s(10),a=i(n),c=new a.default;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(c,"liveChat","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/index.js")})()},function(e,t,s){"use strict";function i(e,t){var s=t||0,i=n;return i[e[s++]]+i[e[s++]]+i[e[s++]]+i[e[s++]]+"-"+i[e[s++]]+i[e[s++]]+"-"+i[e[s++]]+i[e[s++]]+"-"+i[e[s++]]+i[e[s++]]+"-"+i[e[s++]]+i[e[s++]]+i[e[s++]]+i[e[s++]]+i[e[s++]]+i[e[s++]]}for(var n=[],a=0;a<256;++a)n[a]=(a+256).toString(16).substr(1);e.exports=i;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"byteToHex","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/lib/bytesToUuid.js"),__REACT_HOT_LOADER__.register(a,"i","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/lib/bytesToUuid.js"),__REACT_HOT_LOADER__.register(i,"bytesToUuid","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/lib/bytesToUuid.js"))})()},function(e,t,s){"use strict";(function(t){var s,i=t.crypto||t.msCrypto;if(i&&i.getRandomValues){var n=new Uint8Array(16);s=function(){return i.getRandomValues(n),n}}if(!s){var a=new Array(16);s=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}e.exports=s;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"rng","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/lib/rng-browser.js"),__REACT_HOT_LOADER__.register(i,"crypto","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/lib/rng-browser.js"),__REACT_HOT_LOADER__.register(n,"rnds8","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/lib/rng-browser.js"),__REACT_HOT_LOADER__.register(a,"rnds","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/lib/rng-browser.js"))})()}).call(t,s(5))},function(e,t,s){"use strict";function i(e,t,s){var i=t&&s||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var c=e.random||(e.rng||n)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var r=0;r<16;++r)t[i+r]=c[r];return t||a(c)}var n=s(3),a=s(2);e.exports=i;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"v4","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/uuid/v4.js")})()},function(e,t,s){"use strict";var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"g","/Users/tcbcinarli/Development/os/help-desk/live-chat/node_modules/webpack/buildin/global.js")})()},function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),c=s(7),r=i(c),o=s(0),l=i(o),u=function(){function e(t){n(this,e),this.screenID="backoffice",this.socket=t.socket,this.activeChats={},this.activeChatIndex=1,this.init()}return a(e,[{key:"init",value:function(){this.wrapper(),this.socketEvents(),this.bindUI()}},{key:"wrapper",value:function e(){var e=document.createElement("div");e.id="live-chat-backoffice",e.classList.add("live-chat-backoffice"),e.innerHTML='<div id="live-chat-backoffice-tabs" class="live-chat-backoffice-tabs"></div><div id="live-chat-backoffice-chats" class="live-chat-backoffice-chats"></div>',document.body.appendChild(e),this.tabs=document.getElementById("live-chat-backoffice-tabs"),this.chats=document.getElementById("live-chat-backoffice-chats")}},{key:"socketEvents",value:function(){var e=this;this.socket.on("new message",function(t){"undefined"==typeof e.activeChats[t.from]&&e.addNewClient(t.from),e.addMessage(t)}),this.socket.on("user left",function(t){"undefined"!=typeof e.activeChats[t.username]&&e.addWarning(e.activeChats[t.username])})}},{key:"bindUI",value:function(){var e=this;this.tabs.addEventListener("click",function(t){t.preventDefault();var s=t.target;s.classList.contains("live-chat-backoffice-tab")&&e.changeTab(s.href.split("#")[1],s)})}},{key:"bindUIs",value:function(e){var t=this;e.form.addEventListener("submit",function(s){s.preventDefault(),t.sendMessage(e)})}},{key:"changeTab",value:function(e,t){var s=this.chats.querySelector(".live-chat-session-active"),i=this.tabs.querySelector(".live-chat-tab-active");s.classList.remove("live-chat-session-active"),i.classList.remove("live-chat-tab-active"),document.getElementById(e).classList.add("live-chat-session-active"),t.classList.add("live-chat-tab-active"),t.querySelector(".live-chat-unread").innerHTML="",t.querySelector(".live-chat-unread").classList.remove("live-chat-has-unread")}},{key:"addNewClient",value:function(e){var t=e;this.activeChats[t]={screenID:t,index:this.activeChatIndex,screen:new r.default({screenID:t,index:this.activeChatIndex})};var s=document.getElementById("live-chat-"+t),i=s.querySelector(".live-chat-messages-list"),n=s.querySelector(".live-chat-message-form"),a=n.querySelector(".live-chat-message-input-item");this.activeChats[t]=Object.assign({},this.activeChats[t],{chat:new l.default({socket:this.socket,messages:i}),form:n,input:a}),this.bindUIs(this.activeChats[t]),this.activeChatIndex++}},{key:"sendMessage",value:function(e){e.chat.sendMessage(e.input.value,e.screenID,"backoffice"),e.input.value=""}},{key:"addMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e.from,i=document.getElementById("live-chat-tab-"+s),n=i.querySelector(".live-chat-unread");this.activeChats[s].chat.addMessage(e,t,"backoffice"),i.classList.contains("live-chat-tab-active")||(n.innerHTML=1*n.innerHTML+1,n.classList.add("live-chat-has-unread"))}},{key:"addWarning",value:function(e){e.chat.addWarning("Client has left the conversation")}}]),e}(),d=u;t.default=d;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"AgentScreen","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/agent-screen/index.js"),__REACT_HOT_LOADER__.register(d,"default","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/agent-screen/index.js"))})()},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),a='<div class="live-chat-session">  <div class="live-chat-messages">      <ul class="live-chat-messages-list"></ul>  </div>  <div class="live-chat-message">      <form class="live-chat-message-form">          <label class="live-chat-message-input">              <input type="text" name="live-chat-message-input" class="live-chat-message-input-item" autocomplete="off" placeholder="Type your message here" />          </label>          <button class="live-chat-message-send">Send</button>      </form>  </div></div>',c=function(){function e(t){i(this,e),this.screenID=t.screenID,this.index=t.index,this.init()}return n(e,[{key:"init",value:function(){this.render(),this.addTab()}},{key:"render",value:function(){var e=document.getElementById("live-chat-backoffice-chats"),t=document.createElement("div"),s=e.querySelector(".live-chat-backoffice-wrapper");t.id="live-chat-"+this.screenID,t.classList.add("live-chat-backoffice-wrapper"),null===s&&t.classList.add("live-chat-session-active"),t.innerHTML=a,e.appendChild(t)}},{key:"addTab",value:function(){var e=document.getElementById("live-chat-backoffice-tabs"),t=document.createElement("a"),s=e.querySelector(".live-chat-backoffice-tab");t.classList.add("live-chat-backoffice-tab"),null===s&&t.classList.add("live-chat-tab-active"),t.href="#live-chat-"+this.screenID,t.id="live-chat-tab-"+this.screenID,t.innerHTML="Client "+this.index+'<span class="live-chat-unread"></span>',e.appendChild(t)}}]),e}(),r=c;t.default=r;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"template","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/agent-screen/ui.js"),__REACT_HOT_LOADER__.register(c,"ScreenUI","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/agent-screen/ui.js"),__REACT_HOT_LOADER__.register(r,"default","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/agent-screen/ui.js"))})()},function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),c=s(9),r=i(c),o=s(0),l=i(o),u=function(){function e(t){n(this,e),this.screenID=t.screenID,this.socket=t.socket,this.toggleClientScreen=this.toggleClientScreen.bind(this),this.init()}return a(e,[{key:"init",value:function(){this.screenUI=new r.default,this.getScreenElement(),this.chat=new l.default({socket:this.socket,messages:this.messages}),this.socket.emit("add user",this.screenID),this.bindEvents()}},{key:"getScreenElement",value:function(){this.wrapper=document.getElementById("live-chat"),this.toggle=this.wrapper.querySelector("#live-chat-toggle"),this.messages=this.wrapper.querySelector("#live-chat-messages-list"),this.form=this.wrapper.querySelector("#live-chat-message-form"),this.input=this.form.querySelector("#live-chat-message-input")}},{key:"bindEvents",value:function(){var e=this;this.toggle.addEventListener("click",this.toggleClientScreen),this.form.addEventListener("submit",function(t){t.preventDefault(),e.sendMessage()}),this.socket.on("new message",function(t){e.addMessage(t)})}},{key:"toggleClientScreen",value:function(){this.wrapper.classList.contains("live-chat-toggled")?this.wrapper.classList.remove("live-chat-toggled"):this.wrapper.classList.add("live-chat-toggled")}},{key:"sendMessage",value:function(){this.chat.sendMessage(this.input.value,"backoffice",this.screenID),this.input.value=""}},{key:"addMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.chat.addMessage(e,t,this.screenID)}}]),e}(),d=u;t.default=d;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"ClientScreen","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/client-screen/index.js"),__REACT_HOT_LOADER__.register(d,"default","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/client-screen/index.js"))})()},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),a='<div class="live-chat-header">  <h2 class="live-chat-toggle" id="live-chat-toggle">Need Help?</h2></div><div class="live-chat-session">  <div class="live-chat-messages">      <ul id="live-chat-messages-list"></ul>  </div>  <div class="live-chat-message">      <form id="live-chat-message-form">          <label class="live-chat-message-input">              <input type="text" name="live-chat-message-input" id="live-chat-message-input" autocomplete="off" class="live-chat-message-input-item" placeholder="Type your message here" />          </label>          <button class="live-chat-message-send" id="live-chat-message-send">Send</button>      </form>  </div></div>',c=function(){function e(){i(this,e),this.init()}return n(e,[{key:"init",value:function(){this.render()}},{key:"render",value:function(){var e=document.createElement("div");e.id="live-chat",e.classList.add("live-chat-wrapper"),e.innerHTML=a,document.body.appendChild(e)}}]),e}(),r=c;t.default=r;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"template","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/client-screen/ui.js"),__REACT_HOT_LOADER__.register(c,"ScreenUI","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/client-screen/ui.js"),__REACT_HOT_LOADER__.register(r,"default","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/client-screen/ui.js"))})()},function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),c=s(11),r=i(c),o=s(8),l=i(o),u=s(6),d=i(u),h=s(4),f=function(){function e(){n(this,e),this.options=window.liveChatOptions,this.screenID=h(),this.socket=!1,this.init()}return a(e,[{key:"init",value:function(){var e=this;r.default.addResources(),setTimeout(function(){e.initializeSocket()},1e3)}},{key:"initializeSocket",value:function(){this.socket=window.io("//localhost:8090"),"client"===this.options.connection&&(this.screen=new l.default({socket:this.socket,screenID:this.screenID})),"backoffice"===this.options.connection&&(this.screen=new d.default({socket:this.socket}))}}]),e}(),v=f;t.default=v;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"LiveChat","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/livechat/index.js"),__REACT_HOT_LOADER__.register(v,"default","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/livechat/index.js"))})()},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),a=function(){function e(){i(this,e)}return n(e,null,[{key:"addResources",value:function(){this.addSocket(),this.addStyles()}},{key:"addSocket",value:function(){var e=document.createElement("script"),t=document.getElementById("liveChat-script");e.src="//localhost:8090/socket.io/socket.io.js",t.parentNode.insertBefore(e,t)}},{key:"addStyles",value:function(){var e=document.createElement("link"),t="8090";e.rel="stylesheet",e.type="text/css",e.href="//localhost:"+t+"/live-chat.css",document.getElementsByTagName("head")[0].appendChild(e)}}]),e}(),c=a;t.default=c;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"Resources","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/livechat/resources.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/tcbcinarli/Development/os/help-desk/live-chat/source/scripts/modules/livechat/resources.js"))})()},function(e,t){},function(e,t,s){e.exports=s(1)}]);